<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/flutter-testing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Flutter Testing Guide | Talawa Mobile Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs-mobile.talawa.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs-mobile.talawa.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs-mobile.talawa.io/docs/docs/flutter-testing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Flutter Testing Guide | Talawa Mobile Documentation"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/icons/logo.png"><link data-rh="true" rel="canonical" href="https://docs-mobile.talawa.io/docs/docs/flutter-testing"><link data-rh="true" rel="alternate" href="https://docs-mobile.talawa.io/docs/docs/flutter-testing" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs-mobile.talawa.io/docs/docs/flutter-testing" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Flutter Testing Guide","item":"https://docs-mobile.talawa.io/docs/docs/flutter-testing"}]}</script><link rel="stylesheet" href="/assets/css/styles.577e7d87.css">
<script src="/assets/js/runtime~main.c0afbe9b.js" defer="defer"></script>
<script src="/assets/js/main.9dd119a1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs.talawa.io/" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/icons/logo.png" alt="Talawa Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/icons/logo.png" alt="Talawa Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Talawa</b></a><a href="https://docs.talawa.io/docs" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">General</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Mobile Guide</a><a href="https://docs-admin.talawa.io/docs" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Admin Guide</a><a href="https://docs-api.talawa.io/docs" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">API Guide</a><a href="https://docs-plugin.talawa.io/docs" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Plugin Guide</a><a href="https://community.talawa.io" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://demo.talawa.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Demo</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/PalisadoesFoundation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://www.youtube.com/@PalisadoesOrganization" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link" aria-label="Palisadoes Youtube channel"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docs/talawa-lint"><span title="Talawa Lint Ecosystem" class="linkLabel_WmDU">Talawa Lint Ecosystem</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/docs/flutter-testing"><span title="Flutter Testing Guide" class="linkLabel_WmDU">Flutter Testing Guide</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/docs/offline/action-handler-service"><span title="Offline Features" class="categoryLinkLabel_W154">Offline Features</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/auto-docs/apptheme/"><span title="Code Documentation" class="categoryLinkLabel_W154">Code Documentation</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Flutter Testing Guide</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Flutter Testing Guide</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" translate="no">​</a></h2>
<p>Tests are an essential part of software development. They help developers to verify the functionality of the code they write and ensure that it behaves as expected. Testing is a process of executing a program with the intent of finding errors. They help to catch bugs early in the development process, which saves time and effort in the long run. Writing tests also makes the code more reliable and maintainable.</p>
<p>The cost of removing defects increases exponentially. A defect caught in requirement and design phase costs less to fix than an error caught in the software maintenance cycle.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-corner-cases">Understanding Corner Cases<a href="#understanding-corner-cases" class="hash-link" aria-label="Direct link to Understanding Corner Cases" title="Direct link to Understanding Corner Cases" translate="no">​</a></h2>
<p>In software testing, a corner case refers to a scenario or input that is rare, extreme, or unusual, and is not typically encountered in normal usage. These cases often involve unexpected combinations of inputs or circumstances that can cause a system to behave in unexpected or undefined ways. For example, if a software system is designed to handle only positive integers, a corner case might involve testing what happens when a negative integer is entered as input.</p>
<p>To ensure that your tests cover all corner cases, you should consider the different input values and edge cases that your code might encounter. For example, if you are testing a function that performs a calculation, you should test it with different input values, including negative numbers, zero, and large numbers.</p>
<p>It&#x27;s also a good idea to use boundary testing, where you test the boundaries between different input values. For example, if your function takes an input between 0 and 100, you should test it with values of 0, 1, 99, 100, and values just above and below these boundaries.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started" translate="no">​</a></h2>
<p>Following are the steps you have to follow in order to start writing and testing your code:-</p>
<ol>
<li class="">
<p>Add the <code>flutter_test</code> package to your <code>pubspec.yaml</code> file.</p>
</li>
<li class="">
<p>Create a new test file in your project&#x27;s <code>test</code> directory. The file should have the same name as the file you want to test, with <code>_test</code> appended to the end. For example, if you want to test a file called <code>my_widget.dart</code>, the test file should be called <code>my_widget_test.dart</code>.</p>
</li>
<li class="">
<p>Write test cases for the functions, widgets, or other parts of your application that you want to test. Use the tools provided by the flutter_test package, such as the test() and expect() functions, to define your test cases.</p>
</li>
<li class="">
<p>Run your tests using the flutter test command. This will run all the tests in your project&#x27;s test directory.</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="basic-test-example">Basic Test Example<a href="#basic-test-example" class="hash-link" aria-label="Direct link to Basic Test Example" title="Direct link to Basic Test Example" translate="no">​</a></h2>
<p>Suppose you have a <code>Calculator</code> class with a <code>add</code> method that takes two integers and returns their sum:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class Calculator {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int add(int a, int b) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return a + b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>To write a test for the <code>add</code> method, you can create a new file called <code>calculator_test.dart</code> in the same directory as your <code>calculator.dart</code> file, and write the following code:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import &#x27;package:flutter_test/flutter_test.dart&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &#x27;package:my_app/calculator.dart&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  test(&#x27;Calculator add method&#x27;, () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final calculator = Calculator();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final result = calculator.add(2, 3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expect(result, 5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This test imports the <code>flutter_test</code> package, which provides the test function for writing tests, and imports the <code>Calculator</code> class from <code>calculator.dart</code>. The test function takes a string description of the test (in this case, &quot;Calculator add method&quot;), and a closure that contains the actual test code.</p>
<p>Inside the closure, we create a new instance of the <code>Calculator</code> class, call its <code>add</code> method with the arguments 2 and 3, and store the result in a variable called <code>result</code>. We then use the expect function to <code>assert</code> that the value of <code>result</code> is equal to <code>5</code>.</p>
<p>To run this test, you can run the following command in your terminal:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flutter test</span><br></span></code></pre></div></div>
<p>This will run all the tests in your project, including the <code>Calculator add</code> method test we just wrote. If the test passes, you should see the following output in your terminal:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">00:00 +1: All tests passed!</span><br></span></code></pre></div></div>
<p>If the test fails (for example, if the add method in calculator.dart was implemented incorrectly), you will see an error message in your terminal indicating what went wrong.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="intermediary-test-examples">Intermediary Test Examples<a href="#intermediary-test-examples" class="hash-link" aria-label="Direct link to Intermediary Test Examples" title="Direct link to Intermediary Test Examples" translate="no">​</a></h2>
<p>Now moving towards a more complex example where we will see the use of mocks and stubs to generate relevant tests for our code. First we will see what are mocks and stubs and how to use them.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mocks">Mocks<a href="#mocks" class="hash-link" aria-label="Direct link to Mocks" title="Direct link to Mocks" translate="no">​</a></h3>
<p>Mocks are objects that simulate the behavior of real objects in your application. They are often used in testing to isolate the part of your code that you want to test from the rest of the application.</p>
<p>In Flutter, mocks can be generated using tools like Mockito, which is a popular mock object library for Dart.
To generate a mock object using Mockito, you can follow these steps:</p>
<ol>
<li class="">
<p>Add the <code>mockito</code> package to your pubspec.yaml file.</p>
</li>
<li class="">
<p>Import the mockito package in your test file:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import &#x27;package:mockito/mockito.dart&#x27;;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Define a mock object by extending the Mock class:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class MockMyObject extends Mock implements MyObject {}</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Use the mock object in your test cases:</p>
</li>
</ol>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class MockMyObject extends Mock implements MyObject {}  </span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mocks-test-example">Mocks Test Example<a href="#mocks-test-example" class="hash-link" aria-label="Direct link to Mocks Test Example" title="Direct link to Mocks Test Example" translate="no">​</a></h3>
<p>Suppose you have a <code>Calculator</code> class that performs arithmetic operations, and you want to test a <code>CalculatorController</code> class that uses the Calculator to perform
calculations. To isolate the <code>CalculatorController</code> for testing, you can create a mock <code>Calculator</code> object that simulates the behavior of the real Calculator.</p>
<p>First, you&#x27;ll need to create a <code>mock</code> object using <code>mockito</code> as stated above, which provides tools for creating mock objects. Here&#x27;s an example of how to create a
mock</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import &#x27;package:mockito/mockito.dart&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class MockCalculator extends Mock implements Calculator {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create the mock object in your test case</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final calculator = MockCalculator();</span><br></span></code></pre></div></div>
<p>Now, you can use the <code>calculator</code> mock object to simulate the behavior of the <code>Calculator</code> in your tests. For example, here&#x27;s a test that verifies that the
<code>CalculatorController</code> correctly adds two numbers:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">test(&#x27;CalculatorController adds two numbers&#x27;, () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a new CalculatorController, passing in the mock Calculator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final controller = CalculatorController(calculator);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Stub the add method on the mock calculator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">when(calculator.add(2, 3)).thenReturn(5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Call the addNumbers method on the controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final result = controller.addNumbers(2, 3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Verify that the add method was called on the calculator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">verify(calculator.add(2, 3)).called(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Verify that the result returned by the controller is correct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expect(result, equals(5));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
<p>In this test, the <code>MockCalculator</code> is created and passed to the <code>CalculatorController</code>. The <code>when</code> method is used to stub the <code>add</code> method on the mock calculator, so
that when the <code>add</code> method is called with arguments 2 and 3, it returns the value 5. Then, the <code>addNumbers</code> method is called on the <code>CalculatorController</code>, and the
result is verified using the <code>expect</code> method. Finally, the <code>verify</code> method is used to ensure that the <code>add</code> method was called on the mock calculator with the correct
arguments.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stubs">Stubs<a href="#stubs" class="hash-link" aria-label="Direct link to Stubs" title="Direct link to Stubs" translate="no">​</a></h3>
<p>Stubbing is a technique used in testing to replace a real object with a simplified version that provides predictable behavior.</p>
<p>In Flutter, you can use stubs to replace real objects with mock objects or other simplified versions.</p>
<p>To stub a method or class in Flutter, you can use the when() function provided by the <code>mockito</code> package. For example, if you have a method called myMethod() that you want to stub, you can do the following:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var myMock = MockMyObject();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">when(myMock.myMethod()).thenReturn(&#x27;my result&#x27;);</span><br></span></code></pre></div></div>
<p>This will replace the <code>myMethod()</code> method on the <code>myMock</code> object with a stub that always returns the string <code>my result</code>.</p>
<p><code>when()</code> method is used in the previous Calculator example as well where it is used to stub the add method to mock the Calculator.</p>
<p>You can also use the any matcher to match any input value. For example:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">when(myMock.myMethod(any)).thenReturn(&#x27;my result&#x27;);</span><br></span></code></pre></div></div>
<p>This will stub the <code>myMethod()</code> method to always return <code>my result</code>, regardless of the input value.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mocks-and-stubs-test-example">Mocks and Stubs Test Example<a href="#mocks-and-stubs-test-example" class="hash-link" aria-label="Direct link to Mocks and Stubs Test Example" title="Direct link to Mocks and Stubs Test Example" translate="no">​</a></h3>
<p>In this example, we&#x27;ll be testing the <code>sendMessageToDirectChat</code> method from our application. This method is responsible for sending direct messages between two users in a private chat. The <code>sendMessageToDirectChat</code> method is critical to the functionality of our application, and we need to ensure that it works correctly under a variety of conditions. To do so, we&#x27;ll be using a combination of manual and automated testing techniques to thoroughly test this method and uncover any potential bugs or issues. By the end of this example, you&#x27;ll have a better understanding of how to approach testing for critical methods in this application. The file is located in <code>talawa/lib/services/chat_service.dart</code> and its tests are written in the file <code>talawa\test\service_tests\chat_service_test.dart</code></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="method-under-test">Method Under Test<a href="#method-under-test" class="hash-link" aria-label="Direct link to Method Under Test" title="Direct link to Method Under Test" translate="no">​</a></h4>
<p><code>sendMessageToDirectChat</code> is the function that sends a message of a person in his/her desired chat. Below is the code of this method which is to be tested if its functioning properly or not.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Future&lt;void&gt; sendMessageToDirectChat(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String chatId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String messageContent,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ) async {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // trigger graphQL mutation to push the message in the Database.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final result = await _dbFunctions.gqlAuthMutation(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ChatQueries().sendMessageToDirectChat(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      variables: {&quot;chatId&quot;: chatId, &quot;messageContent&quot;: messageContent},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final message = ChatMessage.fromJson(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      result.data[&#x27;sendMessageToDirectChat&#x27;] as Map&lt;String, dynamic&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _chatMessageController.add(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    debugPrint(result.data.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sample-mock-and-test-code">Sample Mock and Test Code<a href="#sample-mock-and-test-code" class="hash-link" aria-label="Direct link to Sample Mock and Test Code" title="Direct link to Sample Mock and Test Code" translate="no">​</a></h4>
<p>Test written for this method looks like this</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">test(&#x27;Test SendMessageToDirectChat Method&#x27;, () async {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      final dataBaseMutationFunctions = locator&lt;DataBaseMutationFunctions&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      const id = &quot;1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      const messageContent = &quot;test&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      final query = ChatQueries().sendMessageToDirectChat();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      when(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dataBaseMutationFunctions.gqlAuthMutation(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          query,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          variables: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;chatId&quot;: id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;messageContent&quot;: messageContent,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ).thenAnswer(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (_) async =&gt; QueryResult(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          options: QueryOptions(document: gql(query)),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;sendMessageToDirectChat&#x27;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;_id&#x27;: id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;messageContent&#x27;: messageContent,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;sender&#x27;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;firstName&#x27;: &#x27;Mohamed&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;receiver&#x27;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;firstName&#x27;: &#x27;Ali&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          source: QueryResultSource.network,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      final service = ChatService();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      await service.sendMessageToDirectChat(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        messageContent,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-explanation">Test Explanation<a href="#test-explanation" class="hash-link" aria-label="Direct link to Test Explanation" title="Direct link to Test Explanation" translate="no">​</a></h4>
<p>Here is a breakdown of what this test does</p>
<ol>
<li class="">
<p>The test starts by defining a mock object for the <code>_dbFunctions</code> class using the when function from the <code>Mockito</code> package. The mock object is set up to return a <code>QueryResult</code> object that simulates the result of a GraphQL mutation when the <code>gqlAuthMutation</code> method is called with the correct query and variables.</p>
</li>
<li class="">
<p>The <code>ChatService</code> class is instantiated, and the <code>sendMessageToDirectChat</code> method is called with the correct <code>chatId</code> and <code>messageContent</code> parameters.</p>
</li>
<li class="">
<p>Finally, the test verifies that the <code>_chatMessageController</code> object has been updated with the correct <code>ChatMessage</code> object that was received from the mocked <code>GraphQL mutation</code> result.</p>
</li>
<li class="">
<p>The <code>when</code> function is used to set up a mock behavior for the <code>gqlAuthMutation</code> method of the <code>_dbFunctions</code> object. The mocked behavior returns a <code>QueryResult</code> object that simulates the result of a GraphQL mutation. The <code>QueryResult</code> object contains a map with a key of <code>sendMessageToDirectChat</code>, which contains a value that represents the returned <code>ChatMessage</code> object from the mutation.</p>
</li>
</ol>
<p>Overall, this test verifies that the <code>sendMessageToDirectChat</code> method correctly triggers a GraphQL mutation and correctly handles the returned data by updating the <code>_chatMessageController</code> object with the expected <code>ChatMessage</code> object.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<p>If you find a bug while writing a test for a file, the first thing to do is to write a test case that reproduces the bug. This will help you ensure that the bug is fixed and doesn&#x27;t reappear in the future.</p>
<p>Once you have a failing test case, you should debug the code and identify the cause of the bug. You can use tools like the print() function, the debugger in your IDE, or the debugPrint() function provided by Flutter to help you debug your code.</p>
<p>Once you have identified the cause of the bug, you should fix the code and run your tests again to ensure that the bug has been fixed. If you have multiple test cases that cover the same code, you should run all of them to ensure that the fix doesn&#x27;t break any other parts of your code.</p>
<p>If you are working in a team, it&#x27;s a good idea to communicate the bug and the fix to your teammates so that they are aware of the issue and can review your fix.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>Writing tests is an important part of the software development process, and Flutter provides a set of tools that make it easy to write tests for your application. By following the guidelines in this guide, you can ensure that your tests cover all corner cases, use mocks and stubs to isolate your code, and effectively debug and fix bugs that you encounter during the testing process.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/PalisadoesFoundation/talawa/edit/develop/docs/docs/docs/flutter-testing-guide.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/docs/talawa-lint"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Talawa Lint Ecosystem</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/docs/offline/action-handler-service"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ActionHandlerService</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#understanding-corner-cases" class="table-of-contents__link toc-highlight">Understanding Corner Cases</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a></li><li><a href="#basic-test-example" class="table-of-contents__link toc-highlight">Basic Test Example</a></li><li><a href="#intermediary-test-examples" class="table-of-contents__link toc-highlight">Intermediary Test Examples</a><ul><li><a href="#mocks" class="table-of-contents__link toc-highlight">Mocks</a></li><li><a href="#mocks-test-example" class="table-of-contents__link toc-highlight">Mocks Test Example</a></li><li><a href="#stubs" class="table-of-contents__link toc-highlight">Stubs</a></li><li><a href="#mocks-and-stubs-test-example" class="table-of-contents__link toc-highlight">Mocks and Stubs Test Example</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/PalisadoesFoundation" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__icon footer__slack">Slack</a></li><li class="footer__item"><a href="https://www.palisadoes.org/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__icon footer__news">News</a></li><li class="footer__item"><a href="https://www.palisadoes.org/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__icon footer__contact">Contact Us</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social Media</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/palisadoesorg?lang=en" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__icon footer__twitter"> Twitter</a></li><li class="footer__item"><a href="https://www.facebook.com/palisadoesproject/" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__icon footer__facebook"> Facebook</a></li><li class="footer__item"><a href="https://www.instagram.com/palisadoes/?hl=en" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__icon footer__instagram"> Instagram</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Development</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/PalisadoesFoundation" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__icon footer__github"> GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 The Palisadoes Foundation, LLC. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>